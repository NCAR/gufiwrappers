
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>gwrap &#8212; gufiwrappers  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example 1:" href="gw_ex1.html" />
    <link rel="prev" title="Welcome to gufiwrappers’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="gw_ex1.html" title="Example 1:"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to gufiwrappers’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">gufiwrappers  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="gwrap">
<h1>gwrap<a class="headerlink" href="#gwrap" title="Permalink to this headline">¶</a></h1>
<p><p>Generate Cache DB and optionally a filename list for 
a given filesystem tree querying GUFI DB.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">gwrap</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">gufitmp</span><span class="o">-</span><span class="nb">dir</span><span class="o">=</span> <span class="n">path</span><span class="o">-</span><span class="n">name</span><span class="p">]</span>
             <span class="p">[</span><span class="o">--</span><span class="nb">list</span><span class="o">=</span> <span class="n">filename</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="n">owner</span><span class="p">,</span><span class="n">project</span><span class="p">,</span><span class="n">mtime</span><span class="p">,</span><span class="n">atime</span><span class="p">]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">owners</span><span class="o">=</span> <span class="n">User1</span><span class="p">,</span><span class="n">User2</span><span class="p">,</span><span class="o">..</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">projects</span><span class="o">=</span> <span class="n">Proj1</span><span class="p">,</span><span class="n">Proj2</span><span class="p">,</span><span class="o">..</span><span class="p">]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">write</span><span class="o">-</span><span class="n">period</span><span class="o">=</span> <span class="n">YYYY</span><span class="p">[</span><span class="n">MM</span><span class="p">[</span><span class="n">DD</span><span class="p">]]</span><span class="o">-</span><span class="n">YYYY</span><span class="p">[</span><span class="n">MM</span><span class="p">[</span><span class="n">DD</span><span class="p">]]]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">read</span><span class="o">-</span><span class="n">period</span><span class="o">=</span> <span class="n">YYYY</span><span class="p">[</span><span class="n">MM</span><span class="p">[</span><span class="n">DD</span><span class="p">]]</span><span class="o">-</span><span class="n">YYYY</span><span class="p">[</span><span class="n">MM</span><span class="p">[</span><span class="n">DD</span><span class="p">]]]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">nthreads</span> <span class="n">number</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">threads</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">verbose</span><span class="p">]</span>
             <span class="n">Absolute</span> <span class="n">path</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments">
<h2>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this headline">¶</a></h2>
<dl class="option-list">
<dt><kbd>Absolute path</kbd></dt>
<dd><dl class="simple">
<dt>where absolute path in the filesystem tree starting with one of</dt><dd><ol class="arabic simple">
<li><p>/glade/p or /gpfs/fs1/p         for project spaces</p></li>
<li><p>/glade/campaign or /gpfs/csfs1, for Campaign storage</p></li>
<li><p>/                               for HPSS</p></li>
</ol>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="Named Arguments">
<h2>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h2>
<dl class="option-list">
<dt><kbd>--gufitmp-dir=</kbd></dt>
<dd><p>Absolute path name to store the GUFI query output
default: /gpfs/fs1/scratch/sghosh/gufi_tmp</p>
<p>Default: “/gpfs/fs1/scratch/sghosh/gufi_tmp”</p>
</dd>
<dt><kbd>--list=</kbd></dt>
<dd><p>Generate list of files with one or more of the attributes
from filename, size, owner, project, mtime, atime in order as
specified delimited by comma(,).</p>
</dd>
<dt><kbd>--owners=</kbd></dt>
<dd><p>for content owned only by users User1,User2,..</p>
</dd>
<dt><kbd>--projects=</kbd></dt>
<dd><p>for content associated with projects Proj1,Proj2..,
(applicable only in HPSS)</p>
</dd>
<dt><kbd>--write-period=</kbd></dt>
<dd><p>for content written during the time window YYYY[MM[DD]]-YYYY[MM[DD]]
either of begin or end period may be omitted for open interval but
not both. For time specification 4-digit year is required, 2-digit
month may be specified, if month is specified 2-digit may be specified.</p>
</dd>
<dt><kbd>--read-period=</kbd></dt>
<dd><p>for content read during time the window YYYY[MM[DD]]-YYYY[MM[DD]]
either of begin or end period may be omitted for open interval but
not both. For time specification 4-digit year is required, 2-digit
month may be specified, if month is specified 2-digit may be specified.</p>
</dd>
<dt><kbd>--nthreads</kbd></dt>
<dd><p>Number of threads to run GUFI query</p>
<p>Default: 20</p>
</dd>
<dt><kbd>--verbose, -v</kbd></dt>
<dd><p>Adds verbosity</p>
<p>Default: False</p>
</dd>
</dl>
</div>
<p><dl class="simple">
<dt>The results are stored under</dt><dd><ol class="arabic simple">
<li><p>&lt;gufitmp&gt;/raw     (the raw output from gufi_query)</p></li>
<li><p>&lt;gufitmp&gt;/scripts (the scripts submitted to gufi_query)</p></li>
<li><p>&lt;gufitmp&gt;/reports (the final reports, file lists etc.)</p></li>
<li><p>&lt;gufitmp&gt;/log     (the errors etc.)</p></li>
</ol>
</dd>
</dl>
</p>
<p>This program generates the raw files querying GUFI-DB, for further
processing by grprt. Optionally it generates the file lists if the
–list option is added.  The raw files are stored under</p>
<p>&lt;gufitmp&gt;/&lt;absolute-path-name-of-parent&gt;/&lt;directory-name&gt;.dat.&lt;thread-id&gt;</p>
<p>and are in CSV format with 0x1E character as delimiter chosen to allow
for all legal characters in filename and directory names. These raw
files are not meant to be human readable.</p>
<p>It is to be noted that each time gwrap is run on a particular directory,
is being rewritten or overwritten. Therefore, while running grprt it is
important to note that the report is on the latest copy of the raw files.
In case the raw files are generated with a filter with one or more of owners,
project, mtime and atime then the report too will be on that restricted
set of data.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gw_ex1.html">Example 1:</a></li>
<li class="toctree-l1"><a class="reference internal" href="gw_ex2.html">Example 2:</a></li>
</ul>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
<p>The <strong>gufiwrappers</strong> github page is <a class="reference external" href="https://www.github.com/NCAR/gufiwrappers">here</a>.
Please post any bugs, feedbacks, comments or feature requests
<a class="reference external" href="https://github.com/NCAR/gufiwrappers/issues">here</a> or just send an email to
<a class="reference external" href="mailto:sghosh">me</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">gwrap</a><ul>
<li><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to gufiwrappers’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gw_ex1.html"
                        title="next chapter">Example 1:</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/gwrap.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="gw_ex1.html" title="Example 1:"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to gufiwrappers’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">gufiwrappers  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Sidd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>